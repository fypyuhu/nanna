(function(_V_){var methods={res_label:function(e){return/^\d+$/.test(e)?e+"p":e}};_V_.ResolutionMenuItem=_V_.MenuItem.extend({call_count:0,init:function(e,t){var n=false;t.label=methods.res_label(t.res);t.selected=t.res.toString()===e.getCurrentRes().toString();_V_.MenuItem.call(this,e,t);this.resolution=t.res;this.on(["click","tap"],this.onClick);e.on("changeRes",_V_.bind(this,function(){if(this.resolution==e.getCurrentRes()){this.selected(true)}else{this.selected(false)}this.call_count=0}))}});_V_.ResolutionMenuItem.prototype.onClick=function(){if(this.call_count>0){return}this.player().changeRes(this.resolution);this.call_count++};_V_.ResolutionTitleMenuItem=_V_.MenuItem.extend({init:function(e,t){_V_.MenuItem.call(this,e,t);this.off("click")}});_V_.ResolutionSelector=_V_.MenuButton.extend({init:function(e,t){e.availableRes=t.available_res;_V_.MenuButton.call(this,e,t)}});_V_.ResolutionSelector.prototype.createItems=function(){var e=this.player(),t=[],n;t.push(new _V_.ResolutionTitleMenuItem(e,{el:_V_.Component.prototype.createEl("li",{className:"vjs-menu-title vjs-res-menu-title",innerHTML:"Quality"})}));for(n in e.availableRes){if("length"==n){continue}t.push(new _V_.ResolutionMenuItem(e,{res:n}))}t.sort(function(e,t){if(typeof e.resolution=="undefined"){return-1}else{return parseInt(t.resolution)-parseInt(e.resolution)}});return t};_V_.plugin("resolutionSelector",function(e){if(!this.el().firstChild.canPlayType){return}var t=this,n=t.options().sources,r=n.length,i,s,o=_V_.util.mergeOptions({default_res:"",force_types:false},e||{}),u={length:0},a,f,l=o.default_res&&typeof o.default_res=="string"?o.default_res.split(","):[];while(r>0){r--;if(!n[r]["data-res"]){continue}a=n[r]["data-res"];if(typeof u[a]!=="object"){u[a]=[];u.length++}u[a].push(n[r])}if(o.force_types){for(a in u){if("length"==a){continue}r=o.force_types.length;found_types=0;while(r>0){r--;i=u[a].length;while(i>0){i--;if(o.force_types[r]===u[a][i].type){found_types++;break}}}if(found_types<o.force_types.length){delete u[a];u.length--}}}if(u.length<2){return}for(r=0;r<l.length;r++){if(u[l[r]]){t.src(u[l[r]]);t.currentRes=l[r];break}}t.getCurrentRes=function(){if(typeof t.currentRes!=="undefined"){return t.currentRes}else{try{return res=t.options().sources[0]["data-res"]}catch(e){return""}}};t.changeRes=function(e){var n=t.el().firstChild,r=t.paused(),i=t.currentTime(),s,o;if(t.getCurrentRes()==e||!t.availableRes||!t.availableRes[e]){return}if("none"==n.preload){n.preload="metadata"}t.src(t.availableRes[e]).one("loadedmetadata",function(){t.currentTime(i);t.addClass("vjs-has-started");if(!r){t.play()}});t.currentRes=e;if(t.controlBar.resolutionSelector){s=t.controlBar.resolutionSelector.el().firstChild.children;o=s.length;while(o>0){o--;if("vjs-current-res"==s[o].className){s[o].innerHTML=methods.res_label(e);break}}}t.trigger("changeRes")};a=t.getCurrentRes();if(a){a=methods.res_label(a)}f=new _V_.ResolutionSelector(t,{el:_V_.Component.prototype.createEl(null,{className:"vjs-res-button vjs-menu-button vjs-control",innerHTML:'<div class="vjs-control-content"><span class="vjs-current-res">'+(a||"Quality")+"</span></div>",role:"button","aria-live":"polite",tabIndex:0}),available_res:u});t.controlBar.resolutionSelector=t.controlBar.addChild(f)})})(videojs);(function(){function getCookieItem(sKey){if(!sKey||!hasCookieItem(sKey)){return null;}
return unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+ escape(sKey).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1"));}
function setCookieItem(sKey,sValue,vEnd,sPath,sDomain,bSecure){if(!sKey||/^(?:expires|max\-age|path|domain|secure)$/i.test(sKey)){return;}
var sExpires="";if(vEnd){switch(vEnd.constructor){case Number:sExpires=vEnd===Infinity?"; expires=Tue, 19 Jan 2038 03:14:07 GMT":"; max-age="+ vEnd;break;case String:sExpires="; expires="+ vEnd;break;case Date:sExpires="; expires="+ vEnd.toGMTString();break;}}
document.cookie=escape(sKey)+"="+ escape(sValue)+ sExpires+(sDomain?"; domain="+ sDomain:"")+(sPath?"; path="+ sPath:"")+(bSecure?"; secure":"");}
function hasCookieItem(sKey){return(new RegExp("(?:^|;\\s*)"+ escape(sKey).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=")).test(document.cookie);}
function getStorageItem(key){return localStorage.getItem(key);}
function setStorageItem(key,value){localStorage.setItem(key,value);return true}
function onVolumeChange(){this.persistVolume.setVolume(this.volume());}
videojs.plugin('persistVolume',function(options){var hasLocalStorage=(function(){try{localStorage.setItem('persistVolume','persistVolume');localStorage.removeItem('persistVolume');return true;}catch(e){return false;}}());var key=this.options().plugins.persistVolume.namespace+'-'+'volume';this.persistVolume.setVolume=function(value){return hasLocalStorage?setStorageItem(key,value):setCookieItem(key,value,Infinity,'index.html');}
this.persistVolume.getVolume=function(){return hasLocalStorage?getStorageItem(key):getCookieItem(key);}
this.on("volumechange",onVolumeChange);var persistedVolume=this.persistVolume.getVolume();if(persistedVolume!==null){this.volume(persistedVolume);}})})();